language: go

sudo: required


services:
  - docker

before_script:
  - docker login -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"

script:
 - docker build -f operations/docker/Dockerfile -t go-todo-rest .
 - docker push brandonvanwijk/go-todo-rest:CURRENT=$$(git rev-parse --abbrev-ref HEAD)-$$(git rev-parse HEAD | cut -c1-7)
